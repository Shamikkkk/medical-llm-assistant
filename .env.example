# Required for answer generation
NVIDIA_API_KEY=
NVIDIA_MODEL=meta/llama-3.1-8b-instruct

# App configuration
APP_TITLE=PubMed Literature Assistant
APP_DESCRIPTION=General medical PubMed conversational assistant.
DATA_DIR=./data

# Logging
LOG_LEVEL=INFO
LOG_PIPELINE=false

# Retrieval
USE_RERANKER=false
PUBMED_CACHE_TTL_SECONDS=604800
PUBMED_NEGATIVE_CACHE_TTL_SECONDS=3600
MAX_CONTEXT_ABSTRACTS=8
# Deprecated alias for MAX_CONTEXT_ABSTRACTS:
# MAX_ABSTRACTS=8
MAX_CONTEXT_TOKENS=2500
CONTEXT_TRIM_STRATEGY=truncate
HYBRID_RETRIEVAL=false
HYBRID_ALPHA=0.5
CITATION_ALIGNMENT=true
ALIGNMENT_MODE=disclaim

# UI defaults
SHOW_REWRITTEN_QUERY=false
AUTO_SCROLL=true

# Similar-answer cache
ANSWER_CACHE_TTL_SECONDS=604800
ANSWER_CACHE_MIN_SIMILARITY=0.90
ANSWER_CACHE_STRICT_FINGERPRINT=true

# Agent and evaluation modes
AGENT_MODE=false
AGENT_USE_LANGGRAPH=true
EVAL_MODE=false
EVAL_SAMPLE_RATE=0.25
EVAL_STORE_PATH=./data/eval/eval_results.jsonl

# RAGAS judge via OpenAI-compatible endpoint (required only when EVAL_MODE=true)
OPENAI_API_KEY=
OPENAI_BASE_URL=https://integrate.api.nvidia.com/v1
RAGAS_JUDGE_MODEL=meta/llama-3.1-8b-instruct

# Metrics dashboard
METRICS_MODE=false
METRICS_STORE_PATH=./data/metrics/events.jsonl

# Optional secondary validator
VALIDATOR_ENABLED=false
VALIDATOR_MODEL_NAME=MoritzLaurer/DeBERTa-v3-base-mnli
VALIDATOR_THRESHOLD=0.7
VALIDATOR_MARGIN=0.2
VALIDATOR_MAX_PREMISE_TOKENS=384
VALIDATOR_MAX_HYPOTHESIS_TOKENS=128
VALIDATOR_MAX_LENGTH=512
VALIDATOR_TOP_N_CHUNKS=4
VALIDATOR_TOP_K_SENTENCES=2
